# 修复 Tab5 LVGL Crash 和 Audio NACK

## 问题分析

1.  **LVGL Crash**:
    *   **现象**: `Guru Meditation Error: Core 0 panic'ed (Instruction access fault)` 在 `esp_lcd_panel_io_register_event_callbacks`。
    *   **原因**: 当前代码调用了通用的 `lvgl_port_add_disp` 函数来添加显示设备。对于 MIPI DSI/DBI 屏幕，`esp_lvgl_port` 组件提供了专用的 `lvgl_port_add_disp_dsi` 函数。通用函数可能尝试在 DBI IO 句柄上注册回调，导致非法访问。
    *   **解决方案**: 在 `LvglPort` 封装中添加对 `lvgl_port_add_disp_dsi` 的支持，并在 `tab5.cpp` 中使用它。

2.  **Audio I2C NACK**:
    *   **现象**: ES7210 初始化时 I2C NACK，即使已启用 I2S 时钟。
    *   **原因**: 启用 I2S 时钟后，MCLK 输出可能需要短暂时间稳定，或者 Codec 芯片上电复位需要时间。
    *   **解决方案**: 在启用 I2S 通道后，添加 `vTaskDelay` 延时，确保时钟稳定后再初始化 Audio Codec。

## 修改计划

### 1. 修改 `wrapper/lvgl.hpp`
*   添加 `LvglDisplayDsiConfig` 结构体，封装 `lvgl_port_display_dsi_cfg_t`。
*   在 `LvglPort` 类中添加 `AddDisplayDsi` 方法声明。

### 2. 修改 `wrapper/lvgl.cpp`
*   实现 `LvglPort::AddDisplayDsi` 方法，内部调用 `lvgl_port_add_disp_dsi`。

### 3. 修改 `src/board/m5stack/tab5.cpp`
*   **Audio**: 在 `i2s_bus.EnableTxChannel()` 后添加 `vTaskDelay(pdMS_TO_TICKS(50))`。
*   **LVGL**:
    *   定义 `LvglDisplayDsiConfig` 实例（配置 `avoid_tearing = false`）。
    *   将 `lvgl_port.AddDisplay(...)` 替换为 `lvgl_port.AddDisplayDsi(...)`。

## 验证
编译并运行，检查：
1.  LVGL 是否不再 Crash 并正常显示 UI。
2.  ES7210 初始化是否成功（不再报 NACK）。
