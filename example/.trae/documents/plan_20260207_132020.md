I will refactor the `SpiBus` and `SpiDevice` classes in `src/wrapper/spi.hpp` and `src/wrapper/spi.cpp` to change the return type of their operational methods from `esp_err_t` to `bool`.

**1. Modify** **`src/wrapper/spi.hpp`**

* Update `SpiBus` class: Change return types of `Init`, `Deinit`, and `Reset` from `esp_err_t` to `bool`.

* Update `SpiDevice` class: Change return types of `Init`, `Deinit`, `Transfer`, `Write`, and `Read` from `esp_err_t` to `bool`.

**2. Modify** **`src/wrapper/spi.cpp`**

* Implement the boolean return logic for all modified methods in `SpiBus` and `SpiDevice`.

* Return `true` on success (`ESP_OK`) and `false` on failure, while preserving internal error logging.

**3. Modify** **`src/board/m5stack/core-s3.cpp`**

* Update `M5StackCoreS3::InitBus` to check the boolean return value of `spi_bus.Init`.

  ```cpp
  if (spi) {
      if (!spi_bus.Init(spi_bus_config)) return false;
  }
  ```

**4. Verification**

* I will verify the changes by compiling the project using `idf.py build`.

