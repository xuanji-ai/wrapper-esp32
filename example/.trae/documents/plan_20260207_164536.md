I will create an `AudioNone` class in `src/wrapper/audio.hpp` and `src/wrapper/audio.cpp` that inherits from or mimics `AudioCodec` but directly uses `I2sBus` for audio operations without an intermediary codec device. This is useful for devices like the Cardputer's NS4168 speaker which connects directly to I2S.

**1. Analyze `AudioCodec`**

*   `AudioCodec` uses `esp_codec_dev_handle_t` to interface with audio devices.
*   It has `Init`, `AddSpeaker`, `AddMicrophone`, `Write`, `Read`, `EnableSpeaker`, `EnableMicrophone` etc.
*   The implementation uses `esp_codec_dev_write` / `esp_codec_dev_read`.

**2. Design `AudioNone`**

*   **Goal**: Provide a similar interface to `AudioCodec` but bypass the `esp_codec_dev` layer and write/read directly to/from `I2sBus`.
*   **Members**:
    *   `Logger& logger_`
    *   `I2sBus* i2s_bus_`
*   **Methods**:
    *   `Init(I2sBus& i2s_bus)`: Store the bus pointer.
    *   `EnableSpeaker(bool enable)`: Call `i2s_bus_->EnableTxChannel()` / `DisableTxChannel()`.
    *   `EnableMicrophone(bool enable)`: Call `i2s_bus_->EnableRxChannel()` / `DisableRxChannel()`.
    *   `Write(const void* data, size_t size)`: Call `i2s_bus_->Write(...)`.
    *   `Read(void* data, size_t size)`: Call `i2s_bus_->Read(...)`.
    *   Overloads for `std::vector`.
    *   Volume/Mute controls: `AudioNone` might not support hardware volume if there's no codec control. It could return `false` or implement software volume (optional, maybe skip for now and just return false/true with warning).
    *   The prompt asks for "No codec, directly call I2s to output".

**3. Implementation Plan**

*   **Modify `wrapper/audio.hpp`**:
    *   Define `class AudioNone`.
    *   It can either inherit from a common `AudioBase` if I refactor, or just be a standalone class with similar signature. Given the existing code, I'll make it a standalone class for now to avoid breaking changes, or better yet, make it share a common interface if possible. But `AudioCodec` isn't virtual.
    *   I will define `AudioNone` class.

*   **Modify `wrapper/audio.cpp`**:
    *   Implement `AudioNone` methods.

**Detailed `AudioNone` Class:**

```cpp
class AudioNone {
    Logger& logger_;
    I2sBus* i2s_bus_ = nullptr;
    bool spk_enabled_ = false;
    bool mic_enabled_ = false;

public:
    AudioNone(Logger& logger);
    ~AudioNone();

    bool Init(I2sBus& i2s_bus);
    
    // Direct I2S control
    bool EnableSpeaker(bool enable);
    bool EnableMicrophone(bool enable);
    
    // I/O
    bool Write(const void* data, size_t size);
    bool Read(void* data, size_t size);
    // ... vector overloads ...

    // Volume/Mute (No-op or software implementation, returns false/true?)
    // For now, I'll implement them as no-ops returning true (or false with log)
    // depending on if we want to pretend to succeed. 
    // NS4168 has no volume control via I2C, only digital input. 
    // Volume is typically handled by scaling samples in software before writing.
    // I will skip volume/mute methods or return false for now, as "AudioNone" implies no control.
};
```

Wait, `AudioCodec` has methods like `SetSpeakerVolume`. If I want `AudioNone` to be a drop-in replacement or similar usage, I should probably implement them but maybe just log "Not supported".

**Refined Plan:**
1.  Add `AudioNone` class declaration to `wrapper/audio.hpp`.
2.  Add `AudioNone` implementation to `wrapper/audio.cpp`.
3.  Implement `Write`/`Read` using `I2sBus::Write`/`Read`.

Let's do this.