I will optimize the `AudioCodec` class to return `bool` instead of `esp_err_t` for its operation methods, as requested. This involves changes to the header, implementation, and a usage site in `core-s3.cpp`.

1. **Modify** **`src/wrapper/audio.hpp`**:

   * Update the return type of all functions in the `// operations` section from `esp_err_t` to `bool`.

   * This includes `Init`, `AddSpeaker`, `AddMicrophone`, volume/gain controls, mute controls, enable/disable methods, read/write methods, and test methods.

2. **Modify** **`src/wrapper/audio.cpp`**:

   * Update the implementation of these functions to match the new `bool` return type.

   * The functions will return `true` if the underlying ESP-IDF call returns `ESP_OK`, and `false` otherwise.

   * Ensure that errors are logged internally (using the existing `logger_`) before returning `false`, preserving the error code information in the logs where applicable.

3. **Modify** **`src/board/m5stack/core-s3.cpp`**:

   * Update the `M5StackCoreS3::InitDevice` method to handle the boolean return values of `AddSpeaker` and `AddMicrophone`.

   * Replace `if (err != ESP_OK)` checks with `if (!success)` checks.

4. **Verification**:

   * `src/board/m5stack/tab5.cpp` also uses `AudioCodec` but ignores the return values, so it will remain compatible without changes.

